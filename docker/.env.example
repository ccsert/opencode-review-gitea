# OpenCode Review Platform - 环境变量配置
# 复制此文件为 .env 并修改配置

#=============================================================================
# 服务配置
#=============================================================================

# 服务端口
PORT=3000

# 服务监听地址
HOST=0.0.0.0

# 运行环境 (development | production)
NODE_ENV=production

#=============================================================================
# 数据库配置
#=============================================================================

# SQLite (默认)
DATABASE_URL=file:./data/review.db

# PostgreSQL (可选)
# DATABASE_URL=postgresql://opencode:password@localhost:5432/opencode_review

#=============================================================================
# 安全配置
#=============================================================================

# JWT 密钥 (生产环境必须修改！)
# 生成方式: openssl rand -base64 32
JWT_SECRET=please-change-this-secret-in-production

# 管理员初始密码 (首次启动时使用)
ADMIN_PASSWORD=admin123

#=============================================================================
# AI 配置
#=============================================================================

# OpenAI API Key
OPENAI_API_KEY=

# Anthropic API Key
ANTHROPIC_API_KEY=

# DeepSeek API Key
DEEPSEEK_API_KEY=

# Google AI API Key
GOOGLE_AI_API_KEY=

# 默认使用的模型
DEFAULT_MODEL=gpt-4o-mini

# API 代理 (可选，用于网络受限环境)
OPENAI_BASE_URL=

#=============================================================================
# CORS 配置
#=============================================================================

# 允许的来源，多个用逗号分隔
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

#=============================================================================
# 功能开关
#=============================================================================

# 是否允许注册新用户
ENABLE_REGISTRATION=true

# 是否开启多用户模式
MULTI_USER=true

# 每用户最大仓库数
MAX_REPOS_PER_USER=50

# 每用户最大 API Key 数
MAX_API_KEYS_PER_USER=10

#=============================================================================
# PostgreSQL 配置 (使用 docker-compose.postgres.yml 时)
#=============================================================================

POSTGRES_PASSWORD=opencode123
